<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:JungholmInstrumentsDesktop.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="500"
        x:Class="JungholmInstrumentsDesktop.Views.LoginView"
        x:DataType="vm:LoginViewModel"
        Title="Jungholm Instruments - Sign In"
        Width="400"
        Height="500"
        WindowStartupLocation="CenterScreen"
        CanResize="False"
        Icon="/Assets/jungholm-logo.ico">

    <Design.DataContext>
        <vm:LoginViewModel/>
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*" Margin="20">
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,30">
            <TextBlock Text="Jungholm Instruments" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"/>
            <TextBlock Text="Laboratory Gateway" 
                       FontSize="16" 
                       Foreground="Gray"
                       HorizontalAlignment="Center"/>
        </StackPanel>

        <!-- Login Form -->
        <StackPanel Grid.Row="1" Spacing="15">
            <!-- Email Field -->
            <StackPanel Spacing="5">
                <TextBlock Text="Email" FontWeight="SemiBold"/>
                <TextBox Text="{Binding Email}" 
                         Watermark="Enter your email"
                         IsEnabled="{Binding !IsLoading}"/>
            </StackPanel>

            <!-- Password Field -->
            <StackPanel Spacing="5">
                <TextBlock Text="Password" FontWeight="SemiBold"/>
                <TextBox Text="{Binding Password}" 
                         PasswordChar="Â·"
                         FontSize="14"
                         Watermark="Enter your password"
                         IsEnabled="{Binding !IsLoading}"/>
            </StackPanel>

            <!-- Error Message -->
            <TextBlock Text="{Binding ErrorMessage}" 
                       Foreground="Red" 
                       TextWrapping="Wrap"
                       IsVisible="{Binding HasErrorMessage}"
                       Margin="0,5"/>

            <!-- Sign In Button -->
            <Button Content="Sign In" 
                    Command="{Binding SignInCommand}"
                    IsEnabled="{Binding !IsLoading}"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Padding="0"
                    Height="40"
                    Margin="0,10,0,0"/>

            <!-- Loading Indicator -->
            <TextBlock Text="Signing in..." 
                       HorizontalAlignment="Center"
                       Foreground="Gray"
                       IsVisible="{Binding IsLoading}"
                       Margin="0,10"/>
        </StackPanel>
    </Grid>
</Window>

